# Ifrit-v2

GPU/CPU-Parallelized tile-based software rasterizer.

![](./docs/img/img_demo0png.png)

![](docs/img/img_demo3.png)

![](docs/img/img_demo1.png)

![](docs/img/img_demo2.png)



Check  **[`gallery.md`](./docs/gallery.md)** for **[More Example Pictures](./gallery.md)**



Successor to following repos:

 - [Ifrit](https://github.com/Aeroraven/Ifrit)
 - [Iris (TinyRenderer CPP)](https://github.com/Aeroraven/Stargazer/tree/main/ComputerGraphics/Iris)
 - [Iris (TinyRenderer C#)](https://github.com/Aeroraven/Stargazer/tree/main/ComputerGraphics/TinyRenderer)





## æ•´ä½“æ¡†æ¶å’Œæ”¯æŒç‰¹æ€§

ä¸‹å›¾å±•ç¤ºäº†CUDAæ¸²æŸ“å™¨ç®¡é“çš„æ€»ä½“æ¡†æ¶ï¼ˆæœ‰äº›ä¸å…¶å¤šçº¿ç¨‹CPUç‰ˆæœ¬ä¸åŒï¼‰ï¼Œå¸¦æ˜Ÿå·æ ‡è®°çš„é˜¶æ®µæ˜¯å¯é€‰çš„ã€‚<img src="./docs/img/overview.png" alt="overview" style="zoom: 67%;" />

**æ³¨æ„ï¼š**æ­¤é¡¹ç›®ä¸æ˜¯ç¡¬ä»¶å›¾å½¢ç®¡é“ï¼ˆå¦‚IMRæˆ–TBDRæ¶æ„ï¼‰çš„ç²¾ç¡®å¤åˆ¶ã€‚å®ƒåªæ˜¯ä¸€ä¸ªç©å…·æˆ–åŸºæœ¬ç†è§£çš„æ•™ç¨‹ã€‚

âœ… å¯ç”¨ | ğŸŸ¦ æœ‰é™æ”¯æŒ (æ­£åœ¨æµ‹è¯•) | ğŸŸ¨ ä¸ç¨³å®š (æ­£åœ¨æµ‹è¯•) | ğŸŸ¥ TODO

| ç‰¹æ€§                                         | [Iris Renderer](https://github.com/Aeroraven/Stargazer/tree/main/ComputerGraphics/Iris)(æ—§ç‰ˆæœ¬) | Ifrit-v2 å¤šçº¿ç¨‹CPU | Ifrit-v2  CUDA |
| -------------------------------------------- | ------------------------------------------------------------ | ------------------ | -------------- |
| ğŸ”— **æ”¯æŒçš„ç¼–ç¨‹è¯­è¨€**                         |                                                              |                    |                |
| C++ åŸç”Ÿ                                     | âœ…                                                            | âœ…                  | âœ…              |
| C++ åŠ¨æ€é“¾æ¥                                 | ğŸŸ¥                                                            | ğŸŸ¦                  | ğŸŸ¥              |
| .NET è¿è¡Œåº“ (`C#` æ”¯æŒ)                      | ğŸŸ¥                                                            | ğŸŸ¦                  | ğŸŸ¥              |
| ğŸ”— **Shader è¯­è¨€**                            |                                                              |                    |                |
| å†…ç½®ç±»                                       | âœ…                                                            | âœ…                  | âœ…              |
| SPIR-V äºŒè¿›åˆ¶æ–‡ä»¶ / HLSL                     | ğŸŸ¥                                                            | ğŸŸ¦ (JITè¿è¡Œ)        | ğŸŸ¥              |
| SPIR-V äºŒè¿›åˆ¶æ–‡ä»¶ / GLSL                     | ğŸŸ¥                                                            | ğŸŸ¥                  | ğŸŸ¥              |
| ğŸš€ **å…‰çº¿è¿½è¸ª / æ€§èƒ½**                        |                                                              |                    |                |
| å•æŒ‡ä»¤å¤šæ•°æ®(SIMD) æŒ‡ä»¤ / å•æŒ‡ä»¤å¤šçº¿ç¨‹(SIMT) | ğŸŸ¥                                                            | âœ…                  | ğŸŸ¥              |
| åŠ é€Ÿç»“æ„ (BVH)                               | ğŸŸ¥                                                            | âœ…                  | ğŸŸ¥              |
| æ— é”åŒæ­¥                                     | ğŸŸ¥                                                            | âœ…                  | â¬œ æ²¡æœ‰éœ€æ±‚     |
| ğŸ”¦ **å…‰çº¿è¿½è¸ª / ç®¡çº¿**                        |                                                              |                    |                |
| åŠ é€Ÿç»“æ„éå†                                 | ğŸŸ¥                                                            | âœ…                  | ğŸŸ¥              |
| è¡¨é¢åŒºåŸŸå¯å‘ (SAH)                           | ğŸŸ¥                                                            | âœ…                  | ğŸŸ¥              |
| å¯ç¼–ç¨‹å…‰çº¿ç”Ÿæˆ(Raygen)ç€è‰²å™¨                 | ğŸŸ¥                                                            | âœ…                  | ğŸŸ¥              |
| å¯ç¼–ç¨‹æœ€è¿‘å‘½ä¸­(Closest Hit)ç€è‰²å™¨            | ğŸŸ¥                                                            | âœ…                  | ğŸŸ¥              |
| å¯ç¼–ç¨‹æœªå‘½ä¸­(Miss)ç€è‰²å™¨                     | ğŸŸ¥                                                            | âœ…                  | ğŸŸ¥              |
| ğŸš€ **å…‰æ …åŒ– / æ€§èƒ½**                          |                                                              |                    |                |
| å¤šçº¿ç¨‹                                       | ğŸŸ¥                                                            | âœ…                  | âœ…              |
| å•æŒ‡ä»¤å¤šæ•°æ®(SIMD) æŒ‡ä»¤ / å•æŒ‡ä»¤å¤šçº¿ç¨‹(SIMT) | ğŸŸ¥                                                            | âœ…                  | âœ…              |
| å†…å­˜æµä¸è®¡ç®—æµé‡å                            | â¬œ ä¸é€‚ç”¨CPU                                                  | â¬œ ä¸é€‚ç”¨CPU        | âœ…              |
| åŠ¨æ€Tileåˆ—è¡¨                                 | ğŸŸ¥                                                            | âœ…                  | âœ…              |
| æ— é”åŒæ­¥                                     | ğŸŸ¥                                                            | âœ…                  | â¬œ æ²¡æœ‰éœ€æ±‚     |
| ğŸ’¡ **å…‰æ …åŒ– / æ€§èƒ½**                          |                                                              |                    |                |
| æ¸²æŸ“é¡ºåº                                     | âœ…                                                            | âœ…                  | âœ…              |
| ğŸ’¡ **å…‰æ …åŒ– / ç®¡çº¿**                          |                                                              |                    |                |
| å¯ç¼–ç¨‹é¡¶ç‚¹ç€è‰²å™¨                             | âœ…                                                            | âœ…                  | âœ…              |
| å¯ç¼–ç¨‹åƒç´ ç€è‰²å™¨                             | âœ…                                                            | âœ…                  | âœ…              |
| å¯ç¼–ç¨‹å‡ ä½•ç€è‰²å™¨                             | ğŸŸ¥                                                            | ğŸŸ¥                  | ğŸŸ¦              |
| å¯ç¼–ç¨‹ç½‘æ ¼(Mesh)ç€è‰²å™¨                       | ğŸŸ¥                                                            | ğŸŸ¥                  | ğŸŸ¦              |
| å¯ç¼–ç¨‹ä»»åŠ¡(Task)ç€è‰²å™¨                       | ğŸŸ¥                                                            | ğŸŸ¥                  | ğŸŸ¦              |
| æ··åˆ                                         | ğŸŸ¥                                                            | âœ…                  | âœ…              |
| æ·±åº¦æµ‹è¯•                                     | âœ…                                                            | âœ…                  | âœ…              |
| æ·±åº¦æµ‹è¯•å‡½æ•°                                 | ğŸŸ¥                                                            | âœ…                  | âœ…              |
| æ ‡è®°ç¼“å†² (Tag Buffer)                        | ğŸŸ¥                                                            | âœ…                  | âœ…              |
| Early-Z æ·±åº¦æµ‹è¯•                             | âœ…                                                            | âœ…                  | âœ…              |
| Late-Z æ·±åº¦æµ‹è¯• (æ·±åº¦æ›¿æ¢å’Œåƒç´ ä¸¢å¼ƒ)         | ğŸŸ¥                                                            | ğŸŸ¥                  | âœ…              |
| è£å‰ªæµ‹è¯•                                     | ğŸŸ¥                                                            | ğŸŸ¥                  | âœ…              |
| èƒŒé¢å‰”é™¤                                     | âœ…                                                            | âœ…                  | âœ…              |
| è§†é”¥å‰”é™¤                                     | ğŸŸ¥                                                            | âœ…                  | âœ…              |
| é½æ¬¡è£å‰ª                                     | ğŸŸ¥                                                            | âœ…                  | âœ…              |
| å°ä¸‰è§’å½¢å‰”é™¤                                 | ğŸŸ¥                                                            | âœ…                  | âœ…              |
| é€è§†æ­£ç¡®æ’å€¼                                 | ğŸŸ¥                                                            | âœ…                  | âœ…              |
| ç€è‰²å™¨å¯¼æ•° `dFdx` `dFdy`<br/>è¾…åŠ©è°ƒç”¨        | ğŸŸ¥                                                            | ğŸŸ¨                  | ğŸŸ¦              |
| å¤šé‡é‡‡æ ·                                     | ğŸŸ¥                                                            | ğŸŸ¥                  | ğŸŸ¦ 8x MSAA      |
| ğŸ’¡ **å…‰æ …åŒ– / å¤šè¾¹å½¢æ¨¡å¼**                    |                                                              |                    |                |
| å¡«å……ä¸‰è§’å½¢                                   | âœ…                                                            | âœ…                  | âœ…              |
| çº¿æ¡†                                         | ğŸŸ¥                                                            | ğŸŸ¥                  | ğŸŸ¦              |
| ç‚¹                                           | ğŸŸ¥                                                            | ğŸŸ¥                  | ğŸŸ¦              |
| ğŸ–¼ï¸ **çº¹ç†**                                   |                                                              |                    |                |
| é‡‡æ ·å™¨                                       | ğŸŸ¥                                                            | ğŸŸ¥                  | âœ…              |
| Blit                                         | ğŸŸ¥                                                            | ğŸŸ¥                  | âœ…              |
| Mipmap                                       | ğŸŸ¥                                                            | ğŸŸ¥                  | âœ…              |
| è¿‡æ»¤ (Filter)                                | ğŸŸ¥                                                            | ğŸŸ¥                  | âœ…              |
| é‡‡æ ·å™¨åœ°å€æ¨¡å¼                               | ğŸŸ¥                                                            | ğŸŸ¥                  | âœ…              |
| LOD åç½®                                     | ğŸŸ¥                                                            | ğŸŸ¥                  | âœ…              |
| å„å‘å¼‚æ€§è¿‡æ»¤                                 | ğŸŸ¥                                                            | ğŸŸ¥                  | ğŸŸ¦              |
| ç«‹æ–¹ä½“è´´å›¾                                   | ğŸŸ¥                                                            | ğŸŸ¥                  | âœ…              |
| ğŸ–¥ï¸ **æ˜¾ç¤º**                                   |                                                              |                    |                |
| ç»ˆç«¯ ASCII                                   | ğŸŸ¥                                                            | âœ…                  | âœ…              |
| ç»ˆç«¯å¸¦é¢œè‰²æ–¹å—                               | ğŸŸ¥                                                            | âœ…                  | âœ…              |



## æ€§èƒ½

### å¸§ç‡æ¯”è¾ƒ (FPS)  ç‰ˆæœ¬ 2

#### è½¯ä»¶æ¸²æŸ“æ€§èƒ½æ¯”è¾ƒ

å¯¹2048x2048 RGBA FP32å›¾åƒ+2048x2048 FP32æ·±åº¦é™„ä»¶è¿›è¡Œçš„æµ‹è¯•ã€‚æ¼”ç¤ºé˜¶æ®µï¼ˆé€šè¿‡OpenGLæ˜¾ç¤ºçº¹ç†ï¼‰çš„æ—¶é—´æ¶ˆè€—è¢«å¿½ç•¥ã€‚è¯·æ³¨æ„ï¼Œç®¡é“ä¸­çš„ä¸€äº›ä¸‰è§’å½¢**å¯èƒ½ä¼šè¢«å‰”é™¤æˆ–è£å‰ª**ã€‚

| CPUè½¯ä»¶ç®¡çº¿ / æ¨¡å‹ / å¸§ç‡         | Yomiya | Bunny | Khronos Sponza | Intel Sponza |
| --------------------------------- | ------ | ----- | -------------- | ------------ |
| **Windows (MSVC)**                |        |       |                |              |
| Ifrit-v2 MTCPU (æœ¬é¡¹ç›®)           | 153    | 126   | 50             | 24           |
| **WSL2 (Ubuntu 20.04 LTS / GCC)** |        |       |                |              |
| Ifrit-v2 MTCPU (æœ¬é¡¹ç›®)           | 128    | 102   | 43             | 20           |
| Mesa3D softpipe                   | 13     | 3     | *              | *            |
| Mesa3D llvmpipe                   | 152    | 76    | 50             | 8            |

<img src="docs/img/perf_datacpcn.png" style="zoom: 27%;" />

 *. å¸§æ—¶é—´å¤§äº1000msï¼ˆFPS<1ï¼‰



#### é¢œè‰²å’Œæ·±åº¦ç¼“å†²å°ºå¯¸å¯¹æ€§èƒ½çš„å½±å“

åœ¨å¤šçº¿ç¨‹CPUæ¸²æŸ“å™¨ï¼ˆ1ä¸ªä¸»çº¿ç¨‹+16ä¸ªå·¥ä½œçº¿ç¨‹ï¼‰ä¸Šæ‰§è¡Œçš„æµ‹è¯•ï¼Œä½¿ç”¨Vulkanç‰¹å®šHLSLç€è‰²å™¨çš„å³æ—¶ï¼ˆJITï¼‰ç¼–è¯‘ï¼ˆä»¥SPIR-VäºŒè¿›åˆ¶æ ¼å¼ç¼–è¯‘ï¼‰ã€‚

| 3Dæ¨¡å‹ / å¸§ç‡                             | 512 x 512 | 1024 x 1024 | 2048 x 2048 | 4096 x 4096 |
| ----------------------------------------- | --------- | ----------- | ----------- | ----------- |
| Kirara / Genshin Impact (37 k)            | 1219      | 480         | 124         | 28          |
| Evil Neuro (55.9 k)                       | 606       | 398         | 120         | 31          |
| Flandre Scarlet / Touhou Project (96.1 k) | 502       | 237         | 82          | 19          |
| Miyako / Blue Archive (346.1 k)           | 106       | 72          | 43          | 13          |



#### å¤šçº¿ç¨‹ã€ä¼˜åŒ–å’Œæ‰§è¡Œç­–ç•¥çš„å½±å“

å¯¹2048x2048 RGBA FP32å›¾åƒ+2048x2048 FP32æ·±åº¦é™„ä»¶è¿›è¡Œçš„æµ‹è¯•ã€‚æ¼”ç¤ºé˜¶æ®µï¼ˆé€šè¿‡OpenGLæ˜¾ç¤ºçº¹ç†ï¼‰çš„æ—¶é—´æ¶ˆè€—è¢«å¿½ç•¥ã€‚è¯·æ³¨æ„ï¼Œç®¡é“ä¸­çš„ä¸€äº›ä¸‰è§’å½¢**å¯èƒ½ä¼šè¢«å‰”é™¤æˆ–è£å‰ª**ã€‚

| 3Dæ¨¡å‹ / å¸§ç‡                               | Yomiya     | Bunny      | Khronos Sponza | Intel Sponza |
| ------------------------------------------- | ---------- | ---------- | -------------- | ------------ |
| ä¸‰è§’å½¢æ•°é‡                                  | 70275      | 208353     | 786801         | 11241912     |
| **ç»“æ„æ€§ä¼˜åŒ– å’Œ å³æ—¶ç¼–è¯‘(JIT)**             |            |            |                |              |
| å•çº¿ç¨‹CPU ç‰ˆæœ¬ v1                           | 38         | 20         | 2              | 1            |
| å¤šçº¿ç¨‹CPU ç‰ˆæœ¬ v1                           | 80         | 80         | 10             | 2            |
| CUDA ç‰ˆæœ¬ v1                                | 2857       | 2272       | 500            | 198          |
| å•çº¿ç¨‹CPU ä¼˜åŒ–å v2 (SPIR-V HLSL ç€è‰²å™¨JIT) | 56 (+47%)  | 37 (+85%)  | 7 (+250%)      | 4 (+300%)    |
| å¤šçº¿ç¨‹CPU ä¼˜åŒ–å v2 (SPIR-V HLSL ç€è‰²å™¨JIT) | 153 (+91%) | 125 (+56%) | 50 (+400%)     | 24 (+1100%)  |
| å•çº¿ç¨‹CPU ä¼˜åŒ–å v2 (C++ ç±»ç»§æ‰¿)            | 56 (+47%)  | 37 (+85%)  | 7 (+250%)      | 4 (+300%)    |
| å¤šçº¿ç¨‹CPU ä¼˜åŒ–å v2 (C++ ç±»ç»§æ‰¿)            | 153 (+91%) | 126 (+58%) | 50 (+400%)     | 24 (+1100%)  |
| **ç®¡çº¿ä¼˜åŒ–**                                |            |            |                |              |
| å½“å‰ç‰ˆæœ¬                                    | 153        | 126        | 50             | 24           |
| ç§»é™¤æ ‡è®°ç¼“å†²(Tag Buffer)                    | 119 (-22%) | 98 (-22%)  | 24 (-52%)      | 17 (-29%)    |
| ç§»é™¤å±‚æ¬¡æ€§Tiling                            | 111 (-26%) | 86 (-32%)  | 19 (-62%)      | 17 (-29%)    |

â€» **C++ ç±»ç»§æ‰¿**: ç€è‰²å™¨ä½¿ç”¨è™šæ‹Ÿç»§æ‰¿æå‰ç¼–ç å’Œç¼–è¯‘ã€‚

â€» **SPIR-V HLSL ç€è‰²å™¨JIT**: æ‰€æœ‰ç€è‰²å™¨ä»£ç éƒ½ä½¿ç”¨â€œglslcâ€ç¼–è¯‘æˆäºŒè¿›åˆ¶å½¢å¼ã€‚HLSLæºä»£ç æ˜¯ä»¥â€œVulkanç‰¹å®šâ€é£æ ¼ç¼–å†™çš„ã€‚å³æ—¶ï¼ˆJITï¼‰ç¼–è¯‘ä½¿ç”¨LLVM 10ä½œä¸ºåç«¯å’Œæ‰‹åŠ¨IRæ˜ å°„ï¼ˆå…±äº«åº“ä½¿ç”¨`mingw-w64`ç¼–è¯‘ï¼‰ã€‚åº”ç”¨ç¨‹åºåœ¨â€œmsvcâ€ä¸­è¿è¡Œã€‚



#### æ•°æ®å¹¶è¡Œ

å¯¹2048x2048 RGBA FP32å›¾åƒ+2048x2048 FP32æ·±åº¦é™„ä»¶è¿›è¡Œçš„æµ‹è¯•ã€‚æ¼”ç¤ºé˜¶æ®µï¼ˆé€šè¿‡OpenGLæ˜¾ç¤ºçº¹ç†ï¼‰çš„æ—¶é—´æ¶ˆè€—è¢«å¿½ç•¥ã€‚è¯·æ³¨æ„ï¼Œç®¡é“ä¸­çš„ä¸€äº›ä¸‰è§’å½¢**å¯èƒ½ä¼šè¢«å‰”é™¤æˆ–è£å‰ª**ã€‚

| 3Dæ¨¡å‹  / å¸§ç‡ | ST   | MT   | MT + SSEæŒ‡ä»¤é›† (128) | MT + AVX2æŒ‡ä»¤é›† (256) | å†…å­˜è¯»å†™é™åˆ¶ | CUDA | æ€»çº¿é™åˆ¶ |
| -------------- | ---- | ---- | -------------------- | --------------------- | ------------ | ---- | -------- |
| Khronos Sponza | 4    | 33   | 43                   | 50                    | 128          | 500  | 125      |

â€» **å•çº¿ç¨‹ (ST) å’Œå¤šçº¿ç¨‹ (MT)**: 16 å·¥ä½œçº¿ç¨‹ (+1 ä¸»çº¿ç¨‹) ã€‚

â€» **SSE/AVX**ï¼š32ä½æµ®ç‚¹æ•°å­—è¢«ç»„ç»‡ä¸ºæ”¯æŒSSEæŒ‡ä»¤çš„4å…ƒç´ å‘é‡å’Œæ”¯æŒAVX2æŒ‡ä»¤çš„8å…ƒç´ å‘é‡ã€‚åœ¨è¿™ä¸¤ç§è®¾ç½®ä¸­éƒ½ä½¿ç”¨äº†èåˆä¹˜åŠ æŒ‡ä»¤FMAæŒ‡ä»¤é›†ã€‚å¯¹äºå•ä¸ªå¯¹è±¡è¿ç®—ï¼Œåªä½¿ç”¨SSEçš„4å…ƒç´ å‘é‡æ“ä½œfloat3å’Œfloat4ç±»å‹ã€‚

- **å†…å­˜è¯»å†™é™åˆ¶(CPUä¸Šé™)**ï¼šä½¿ç”¨å†…å­˜å‡½æ•°ï¼ˆ`rep stosb`æ±‡ç¼–æŒ‡ä»¤ï¼‰ç»˜åˆ¶é™„ä»¶æ—¶æµ‹é‡æœ€å¤§fpsçš„ä¸€åŠã€‚è¿™è¿‘ä¼¼è¡¡é‡äº†CPUæ¸²æŸ“å™¨çš„æ€§èƒ½ä¸Šé™ã€‚
- **æ€»çº¿é™åˆ¶(CUDAä¸Šé™)**ï¼šå°†é™„ä»¶ä»æœ¬åœ°è®¾å¤‡ï¼ˆCUDAè®¾å¤‡ï¼‰å¤åˆ¶å›ä¸»æœºè®¾å¤‡ï¼ˆCPUï¼‰æ—¶æµ‹é‡çš„æœ€å¤§fpsã€‚è¿™åœ¨æœ€åä¸€æ­¥æµ‹é‡CUDAæ¸²æŸ“å™¨çš„æ€§èƒ½ä¸Šé™ï¼ˆä¸è€ƒè™‘å›¾å½¢APIäº’æ“ä½œï¼‰



### æµ‹è¯•ç¯å¢ƒ

- CPU: 12th Gen Intel(R) Core(TM) i9-12900H 
  - Test with 17 threads (1 master + 16 workers) + AVX2 Instructions
- GPU: NVIDIA GeForce RTX 3070 Ti Laptop GPU (Kernel parameters are optimized for the SPECIFIC test environment)
- Shading: World-space normal
- Compiler:  MSVC 19.29 + NVCC 12.6 (with O2 optimization)



## ä¾èµ–

See [Requirements & Build Instructions ](./docs/requirement.md)for more details.



## è¿è¡Œ

### å¿«é€Ÿå¼€å§‹ (GCC / MinGW-w64)

> è­¦å‘Šï¼šè¯·ç¡®ä¿å·²å®‰è£…ä¾èµ–é¡¹ï¼Œ**å¹¶ä¸”è¿™å°†å¿½ç•¥é¡¹ç›®ä¸­çš„æ‰€æœ‰CUDAä»£ç ã€‚**
>æ³¨æ„ï¼šåœ¨cmakeä¹‹å‰ï¼Œåº”æ‰‹åŠ¨é…ç½®æŸäº›è·¯å¾„/åŒ…

```shell
# G++ (Linux)
cmake -S . -B ./build
cd build
make
# MinGW-w64 (Windows)
cmake -S . -B ./build -G "MinGW Makefiles"
cd build
mingw32-make
```

To run the demo

```shell
# For linux
export LD_LIBRARY_PATH=/path/to/Ifrit.Components.LLVMExec.so;$LD_LIBRARY_PATH
./core/bin/IfritMain
```



### å®Œæ•´é€‰é¡¹

See [Requirements & Build Instructions ](./docs/requirement.md)for more details.





## å‚è€ƒ

For models / open source code references, check `licenses` folder. Thanks for following resources.

[1]. https://tayfunkayhan.wordpress.com/2019/07/26/chasing-triangles-in-a-tile-based-rasterizer/

[2]. https://www.slideshare.net/slideshow/optimizing-the-graphics-pipeline-with-compute-gdc-2016/59747720

[3]. https://docs.nvidia.com/cuda/cuda-c-programming-guide/

[4]. https://github.com/zeux/meshoptimizer

[5]. https://llvm.org/docs/LangRef.html

[6]. https://www.mesa3d.org/